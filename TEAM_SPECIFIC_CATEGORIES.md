# チーム固有カテゴリ機能への変更

## ✨ 変更内容

用途カテゴリをグローバルからチーム固有に変更しました。これにより、各チームが独自のカテゴリセットを管理できるようになりました。

### 🔧 主な変更点

1. **データベース構造の変更**
   - `purpose_categories`テーブルに`team_id`カラムを追加
   - チーム内でのカテゴリ名重複防止のユニーク制約追加
   - チーム削除時のカスケード削除対応

2. **UI の変更**
   - カテゴリ管理画面をチーム固有に変更
   - チーム画面からのカテゴリ管理リンクを追加
   - トップページからのグローバル管理リンクを削除

3. **機能の改善**
   - 各チームが独自のカテゴリセットを持てる
   - チーム間でのカテゴリ名重複が可能
   - より柔軟なカテゴリ管理

### 📁 変更されたファイル

- `migrate_to_team_categories.sql` - データベース移行SQL
- `purpose_categories.php` - チーム固有カテゴリ管理画面に変更
- `team.php` - チーム固有カテゴリのみ表示するように変更
- `index.php` - グローバルカテゴリ管理リンクを削除

### 🚀 セットアップ手順

1. **データベースの移行**
   ```sql
   mysql -u username -p database_name < migrate_to_team_categories.sql
   ```

2. **ファイルの更新**
   - 更新された PHP ファイルをサーバーにアップロード

3. **使用方法**
   - チーム画面から「🏷️ カテゴリ管理」をクリック
   - チーム固有のカテゴリを管理
   - 各チームに自動的にデフォルトカテゴリが作成される

### 🎯 利点

- **独立性**: 各チームが独自のカテゴリセットを管理
- **柔軟性**: チームの特性に合わせたカテゴリ設定が可能
- **整理**: チーム間でのカテゴリ名重複を気にせず使用可能
- **スケーラビリティ**: 新しいチームにも自動的にデフォルトカテゴリが設定

### ⚠️ 注意事項

- 既存のグローバルカテゴリは各チームにコピーされます
- データ移行は自動的に行われますが、事前にバックアップを推奨します
- チーム削除時は関連するカテゴリも削除されます